/*
jQWidgets v4.5.0 (2017-Jan)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(a){function b(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,f,g,h=c.toLowerCase().split(s),i=0,j=h.length;if(a.isFunction(d))for(;i<j;i++)e=h[i],g=/^\+/.test(e),g&&(e=e.substr(1)||"*"),f=b[e]=b[e]||[],f[g?"unshift":"push"](d)}}function c(a,b,d,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===t;j<k&&(l||!h);j++)h=i[j](b,d,e),"string"==typeof h&&(!l||g[h]?h=void 0:(b.dataTypes.unshift(h),h=c(a,b,d,e,h,g)));return!l&&h||g["*"]||(h=c(a,b,d,e,"*",g)),h}function d(b,c){var d,e,f=a.jqx.data.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);e&&a.extend(!0,b,e)}function e(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes,j=a.responseFields;for(e in j)e in c&&(b[j[e]]=c[e]);for(;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("content-type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function f(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a.throws)b=c(b);else try{b=c(b)}catch(a){return{state:"parsererror",error:c?a:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function g(){try{return new window.XMLHttpRequest}catch(a){}}function h(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.jqx.observableArray=function(b,c){if("string"==typeof b&&(b=a.parseJSON(b)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}()){var d=Object.defineProperty;Object.defineProperty=function(a,b,c){if(d)try{return d(a,b,c)}catch(a){}if(a!==Object(a))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in c&&Object.prototype.__defineGetter__.call(a,b,c.get),Object.prototype.__defineSetter__&&"set"in c&&Object.prototype.__defineSetter__.call(a,b,c.set),"value"in c?a[b]=c.value:a[b]||(a[b]=c),a}}Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=arguments[1];for(d=0;d<c;d++)d in b&&a.call(e,b[d],d,b)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c});var e,f=this,g=[];f.notifier=null,f.name="observableArray",f.observing=!0,f.changes=new Array;var c=c;return f.observe=function(){f.observing=!0,1==arguments.length&&(c=arguments[0])},f.unobserve=function(){f.observing=!1},f.toArray=function(){return g.slice(0)},f.toJSON=function(a,b){function c(a){return'"'+a.replace(m,function(a){var b=n[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function d(a){return a<10?"0"+a:a}function e(a){var b;return b=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+'Z"':"null"}function f(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d.push(k(b,a)||"null");return"["+d.join(",")+"]"}function h(b){var d,e,f=[];for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)){if(""!=d&&a&&a.indexOf(d)===-1)continue;e=k(d,b),e&&f.push(c(d)+":"+e)}return"{"+f.join(",")+"}"}function i(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return e(a);case"[object Array]":return f(a)}return h(a)}function j(a,b){switch(b){case"string":return c(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function k(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|float|int|integer|string|boolean)/.test(d)||!c&&"object"===d?j(c,d):i(c)}var l=g;b&&(l=b);var m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!a&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(l):k("",{"":l})},f.defineIndexProperty=function(b){if(!(b in f)){var c=function(b,c,d,h){var i=b[c],j=i,k=function(){return j},l=function(b){if(i=b,j!==i){var d=j;if(j=i,"function"==typeof e){var k=g.indexOf(h),l="",m=function(b,d){Object.getOwnPropertyNames(b).forEach(function(e){var f=a.type(b[e]);"array"==f||"object"==f?m(b[e],d+"."+e):c===e&&(l=d+"."+e)})};m(h,k),e({object:f,type:"update",path:l,index:k,name:c,newValue:i,oldValue:d})}}return j=i,i};void 0!=b[c]&&"length"!=c&&(Object.defineProperty?Object.defineProperty(b,c,{get:k,set:l}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(b,c,k),Object.prototype.__defineSetter__.call(b,c,l)))},d=function(b,e,f){var g=a.type(b);/(number|float|int|integer|string|boolean)/.test(g)||void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(g){var h=a.type(b[g]);"array"==h||"object"==h?(c(b,g,e+"."+g,f),d(b[g],e+"."+g,f)):c(b,g,e+"."+g,f)})};Object.defineProperty(f,b,{configurable:!0,enumerable:!0,get:function(){return g[b]},set:function(a){var c=g[b];f.toJSON(null,c)!=f.toJSON(null,a)&&(g[b]=a,"function"==typeof e&&e({object:f,type:"update",path:b.toString(),index:b,name:"index",newValue:a,oldValue:c}),d(a,b,a))}}),d(f[b],b,f[b])}},f.push=function(){for(var a,b=0,c=arguments.length;b<c;b++)a=g.length,g.push(arguments[b]),f.defineIndexProperty(a),"function"==typeof e&&e({object:f,type:"add",name:"length",index:a,newValue:g.length,oldValue:a});return g.length},f.pop=function(){if(~g.length){var a=g.length-1,b=g.pop();return delete f[a],"function"==typeof e&&e({object:f,type:"delete",name:"length",index:a,newValue:g.length,oldValue:a}),b}},f.unshift=function(){for(var a=g.length,b=0,c=arguments.length;b<c;b++)g.splice(b,0,arguments[b]),f.defineIndexProperty(g.length-1);return"function"==typeof e&&e({object:f,type:"add",index:0,name:"length",newValue:g.length,oldValue:a}),g.length},f.shift=function(){var a=g.length;if(~g.length){var b=g.shift();return 0===g.length&&delete f[a],"function"==typeof e&&e({object:f,type:"delete",index:a,name:"length",newValue:g.length,oldValue:a}),b}},f.slice=function(b,c,d){var e=g.slice(b,c),f=new a.jqx.observableArray(e,d);return f},f.splice=function(b,c,d){var h,i=[];for(b=~b?b:g.length-b,c=(null==c?g.length-b:c)||0;c--;)h=g.splice(b,1)[0],i.push(h),delete f[g.length],"function"==typeof e&&e({object:f,type:"delete",index:b,name:"length",newValue:-1,oldValue:b});for(var j=2,k=arguments.length;j<k;j++)g.splice(b,0,arguments[j]),defineIndexProperty(g.length-1),"function"==typeof e&&e({object:f,type:"add",index:b,name:"length",newValue:g.length-1,oldValue:b}),b++;var l=new a.jqx.observableArray(i,d);return l},Object.defineProperty(f,"length",{configurable:!1,enumerable:!0,get:function(){return g.length},set:function(a){var b=Number(a);if(!(b%1===0&&b>=0))throw new RangeError("Invalid array length");return b<g.length?f.splice(b):b>g.length&&f.push.apply(f,new Array(b-g.length)),a}}),a.jqx.observableArray.prototype.fromArray=function(b,c){var d=new a.jqx.observableArray(b,c);return d},a.jqx.observableArray.prototype.clone=function(){var b=new a.jqx.observableArray(g,c);return b.observing=f.observing,b.changes=f.changes,b.notifier=f.notifier,b},f.remove=function(a){if(a<0||a>=f.length)throw new Error("Invalid index : "+a);if(f.hasOwnProperty(a)){var b=f[a];return f[a]=void 0,g[a]=void 0,"function"==typeof e&&e({object:f,type:"delete",index:a,name:"index",newValue:void 0,oldValue:b}),!0}return!1},f.concat=function(b,c){var d=g.concat(b),e=new a.jqx.observableArray(d,c);return e},Object.getOwnPropertyNames(Array.prototype).forEach(function(a){if(!(a in f)){var b=function(){var b=f.observing;f.observing=!1;var c=g[a],d=c.apply(g,arguments);return f.observing=b,d};Object.defineProperty(f,a,{configurable:!1,enumerable:!0,writeable:!1,value:b})}}),f.set=function(b,c){if("string"==a.type(b)&&b.split(".").length>1){for(var d=b.split("."),e=f,g=0;g<d.length;g++){if(0===g&&d[g]>=f.length)throw new Error("Invalid Index: "+b);g<d.length-1?e=e[d[g]]:e[d[g]]=c}return!0}return b>=f.length?f.push(c):f[b]=c,!0},f.get=function(a){return f[a]},b instanceof Array&&f.push.apply(f,b),e=function(){f.observing&&(arguments&&arguments[0]&&f.changes.push(arguments[0]),c&&c.apply(f,arguments),f.notifier&&f.notifier.apply(f,arguments))},f},a.jqx.formatDate=function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},a.jqx.formatNumber=function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},a.jqx.dataAdapter=function(b,c){if(void 0!=b&&(void 0!==b.dataFields&&(b.datafields=b.dataFields),void 0!==b.dataType&&(b.datatype=b.dataType),void 0!==b.localData&&(b.localdata=b.localData),void 0!==b.sortColumn&&(b.sortcolumn=b.sortColumn),void 0!==b.sortDirection&&(b.sortdirection=b.sortDirection),void 0!==b.sortOrder&&(b.sortdirection=b.sortOrder),void 0!==b.formatData&&(b.formatdata=b.formatData),void 0!==b.processData&&(b.processdata=b.processData),void 0!==b.pageSize&&(b.pagesize=b.pageSize),void 0!==b.pageNum&&(b.pagenum=b.pageNum),void 0!==b.updateRow&&(b.updaterow=b.updateRow),void 0!==b.addRow&&(b.addrow=b.addRow),void 0!==b.deleteRow&&(b.deleterow=b.deleteRow),void 0!==b.contentType&&(b.contenttype=b.contentType),void 0!=b.totalRecords&&(b.totalrecords=b.totalRecords),void 0!=b.loadError&&(b.loadError=b.loadError),void 0!=b.sortComparer&&(b.sortcomparer=b.sortComparer)),this._source=b,this._options=c||{},void 0!=b.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=b.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=b.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=b.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=b.formatData&&(this._options.formatData=this._source.formatData),void 0!=b.loadError&&(this._options.loadError=this._source.loadError),void 0!=b.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=b.contentType&&(this._options.contentType=this._source.contentType),void 0!=b.async&&(this._options.async=this._source.async),void 0!=b.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=b.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return a.isArray(b)?a.makeArray(c(a(b))):a.extend(!0,{},b)};0!=e.suspendKO&&void 0!=e.suspendKO&&0!=e._oldlocaldata.length||(e._oldlocaldata=c(b))},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":a&&(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){d.generatedfields&&(d.datafields=null,d.generatedfields=null),a.jqx.dataFormat.datescache=new Array,null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record=""),void 0!=d.sort&&(this.sort=d.sort),void 0!=d.filter?this.filter=d.filter:this.filter=null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode&&e.virtualmode,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable&&e.pageable,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache&&e.cache,this.unboundmode=!1,void 0!=d.formatdata&&(e.formatData=d.formatdata),void 0!=d.data&&(void 0==e.data&&(e.data={}),a.extend(e.data,d.data)),void 0!=d.mapChar&&(d.mapchar=d.maxChar),void 0!=d.mapchar?this.mapChar=d.mapchar?d.mapchar:">":this.mapChar=e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;"csv"!==d.datatype&&"tab"!==d.datatype&&"tsv"!==d.datatype&&"text"!=d.datatype||(h="text");var i=void 0==e.async||e.async;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j],d[j].uid=j}d.beforeprocessing&&a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata);var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;n<l;n++)m[d.datafields[n].name]="";m.uid=j,d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(b,c){for(var e={},f=0;f<c;f++){var h=d.datafields?d.datafields[f]:{},i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(b);else{var j=h.map.split(g.mapChar);if(j.length>0){for(var k=b,l=0;l<j.length;l++)k&&(k=k[j[l]]);i=k}else i=b[h.map]}void 0!=i&&null!=i?i=i.toString():void 0==i&&null!=i&&(i="")}var m=!1;""==i&&(m=!0,i=b[h.name],void 0!=i&&null!=i&&(d._localdata&&i.subscribe?i=i():"array"!=h.type&&(i=i.toString()))),"[object Object]"==i&&h.map&&m&&(i=""),i=g.getvaluebytype(i,h),void 0!=h.displayname?e[h.displayname]=i:e[h.name]=i}}return e};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0,i=this;a.each(this,function(c,e){var j=null,k="string",m=c;if(l>0){for(var n=!1,o=!1,p=0;p<l;p++){var q=d.datafields[p];if(void 0!=q&&q.name==c){n=!0,j=q.map,k=q.type,m=q.name;break}if(void 0!=q&&q.map&&q.map.indexOf(c)>=0){n=!0,j=q.map,k=q.type,m=q.name,o=!0;var r=i[c];if(null!=j){var s=j.split(g.mapChar);if(s.length>0){for(var t=i,u=0;u<s.length;u++)t=t[s[u]];r=t}else r=i[j]}"string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[m]=r,void 0!=f[m]&&(h+=f[m].toString().length+f[m].toString().substr(0,1))}}if(!n)return!0;if(o)return!0}var v=a.isFunction(i[c]);if(v){var r=i[c]();if("string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[c]=r,i[c].subscribe){var w=b;g.koSubscriptions[g.koSubscriptions.length]=i[c].subscribe(function(a){var b=w;f[c]=a;var d={index:b,oldrecord:f,record:f};if(g._changedrecords.push(d),!g.isUpdating)return g.callBindingUpdate("update"),g._changedrecords=[],!1})}}else{var r=i[c];if(null!=j){var s=j.split(g.mapChar);if(s.length>0){for(var t=i,u=0;u<s.length;u++)t=t[s[u]];r=t}else r=i[j]}"string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[m]=r,void 0!=f[m]&&(h+=f[m].toString().length+f[m].toString().substr(0,1))}});var j=g.getid(d.id,i,b);if(f.uid=j,g.records.push(f),f._koindex=h,g._oldrecords){var k=g.records.length-1;if("update"==c&&g._oldrecords[k]._koindex!=h){var m={index:k,oldrecord:g._oldrecords[k],record:f};g._changedrecords.push(m)}}}}),"add"==c)for(var k=g.records.length,j=0;j<k;j++){for(var m=g.records[j],q=!1,r=0;r<g._oldrecords.length;r++)if(g._oldrecords[r]._koindex===m._koindex){q=!0;break}q||g._changedrecords.push({index:j,oldrecord:null,record:m,position:0!=j?"last":"first"})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;j<k;j++){var s=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=s._koindex&&g._changedrecords.push({index:j,oldrecord:s,record:null}):g._changedrecords.push({index:j,oldrecord:s,record:null})}}else if(a.isArray(d.localdata))if(0==l){var t=0,u=new Array;a.each(d.localdata,function(b,c){var e=new Object(this);if("string"==typeof c)return g.records=d.localdata,!1;var f=g.getid(d.id,e,b);if("object"==typeof f&&(f=b),e.uid=f,0==b){for(var h in this){t++;var i=a.type(this[h]);u.push({name:h,type:i})}l=t,d.datafields=u,d.generatedfields=u}if(l>0){var j=o(e,l);j.uid=f,g.records[g.records.length]=j}else g.records[g.records.length]=e})}else a.each(d.localdata,function(a){var b=this,c=o(b,l),e=g.getid(d.id,c,a);"object"==typeof e&&(e=a);var b=new Object(c);b.uid=e,g.records[g.records.length]=b});else{this.records=new Array;var t=0,u=new Array;a.each(d.localdata,function(b){var c=g.getid(d.id,this,b);if(0==l&&!("string"==typeof this||this instanceof String)){for(var e in this){t++;var f=a.type(this[e]);u.push({name:e,type:f})}l=t,d.datafields=u,d.generatedfields=u}if(l>0){var h=this,i=o(h,l);i.uid=c,g.records[g.records.length]=i}else this.uid=c,g.records[g.records.length]=this})}if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var v=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=v,this.cachedrecords=v}if(e.beforeLoadComplete){var w=e.beforeLoadComplete(g.records,this.originaldata);void 0!=w&&(g.records=w,g.cachedrecords=w)}if(e.autoSort&&e.autoSortField){var x=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[e.autoSortField]},g.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(b<c)return-1;if(b>c)return 1}catch(a){}return 0}),Object.prototype.toString=x}g.loadedData=d.localdata,g.buildHierarchy(),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=d.localdata&&!d.url){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):"ics"===h?g.loadics(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var v=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=v,g.cachedrecords=v}if(e.beforeLoadComplete){var w=e.beforeLoadComplete(g.records,this.originaldata);void 0!=w&&(g.records=w,g.cachedrecords=w)}return g.loadedData=d.localdata,g.buildHierarchy.call(g),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records),void g.callBindingUpdate(c)}var y=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(y),a.isFunction(e.processData)&&e.processData(y),a.isFunction(e.formatData)){var z=e.formatData(y);void 0!=z&&(y=z)}var A="application/x-www-form-urlencoded";e.contentType&&(A=e.contentType);var B="GET";d.type&&(B=d.type),e.type&&(B=e.type);var C=h;if("ics"==h&&(C="text"),d.url&&d.url.length>0)a.isFunction(e.loadServerData)?g._requestData(y,d,e):this.xhr=a.jqx.data.ajax({dataType:C,cache:this.cache,type:B,url:d.url,async:i,timeout:d.timeout,contentType:A,data:y,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),void(a.isFunction(e.loadComplete)&&e.loadComplete(new Array));var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords?d.totalrecords=b.totalrecords:void 0!=b.totalRecords&&(d.totalrecords=b.totalRecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):"ics"===h?g.loadics(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.loadedData=b,g.buildHierarchy.call(g),g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b,c,f,g.records)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}});else if(g.buildHierarchy(new Array),g.callDownloadComplete(),a.isFunction(e.loadComplete)){if(!D)var D={};e.loadComplete(D)}}this.callBindingUpdate(c)}}},buildHierarchy:function(a){var b=this._source,c=new Array;if(b.datafields){if(b.hierarchy&&!b.hierarchy.reservedNames)b.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(b.hierarchy){var d=b.hierarchy.reservedNames;d.leaf||(d.leaf="leaf"),d.parent||(d.parent="parent"),d.expanded||(d.expanded="expanded"),d.checked||(d.checked="checked"),d.selected||(d.selected="selected"),d.level||(d.level="level"),d.data||(d.data="data")}if(b.hierarchy){var e=this,d=b.hierarchy.reservedNames;if(b.hierarchy.root){if("xml"==b.dataType){var c=this.getRecordsHierarchy("uid","parentuid","records",null,a);return this.hierarchy=c,c}this.hierarchy=this.records;for(var f=b.hierarchy.root,g=0;g<this.records.length;g++){var h=this.records[g];if(h){var i=function(a){if(b.hierarchy.record)a.records=a[f][b.hierarchy.record];else{var c=f.split(e.mapChar),g=null;if(c.length>1){for(var h=a,i=0;i<c.length;i++)void 0!=h&&(h=h[c[i]]);g=h}else g=a[f];a.records=g}(null==a.records||a.records&&0==a.records.length)&&(a[d.leaf]=!0)};i(h),h[d.level]=0;var j=this.getid(b.id,h,g);h.uid=j,h[d.parent]=null,h[d.data]=h,void 0===h[d.expanded]&&(h[d.expanded]=!1);var k=function(a,c){if(!c)return void(a.records=new Array);for(var f=0;f<c.length;f++){var g=c[f];if(g){i(g),g[d.level]=a[d.level]+1,g[d.parent]=a,g[d.data]=g;var h=e.getid(b.id,g,f);h==f&&null==b.id?g.uid=a.uid+"_"+h:g.uid=h,void 0===g[d.expanded]&&(g[d.expanded]=!1),k(g,g.records)}}};k(h,h.records)}}return this.hierarchy}if(b.hierarchy.keyDataField&&b.hierarchy.parentDataField){var c=this.getRecordsHierarchy(b.hierarchy.keyDataField.name,b.hierarchy.parentDataField.name,"records",null,a);return this.hierarchy=c,c}if(b.hierarchy.groupingDataFields){for(var l=new Array,g=0;g<b.hierarchy.groupingDataFields.length;g++)l.push(b.hierarchy.groupingDataFields[g].name);var c=this.getGroupedRecords(l,"records","label",null,"data",null,"parent",a);return this.hierarchy=c,c}}}},addRecord:function(a,b,c,d){var e=this,f=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a){if(void 0==c){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var g=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;null==g&&(g=f()),a[g.level]=0,"last"==b?this.hierarchy.push(a):"number"==typeof b&&isFinite(b)?this.hierarchy.splice(b,0,a):this.hierarchy.splice(0,0,a)}else"last"==b?this.records.push(a):"number"==typeof b&&isFinite(b)?this.records.splice(b,0,a):this.records.splice(0,0,a);return!0}if(this.hierarchy.length>0){var h=function(d){if(d)for(var g=0;g<d.length;g++){var i=d[g];if(i.uid==c){var j=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;return null==j&&(j=f()),a[j.parent]=i,a[j.level]=i[j.level]+1,i.records?i[j.leaf]=!1:(i.records=new Array,i[j.leaf]=!1),"last"==b?i.records.push(a):"number"==typeof b&&isFinite(b)?i.records.splice(b,0,a):i.records.splice(0,0,a),!0}i.records&&h(i.records)}};h(this.hierarchy)}}return!1},deleteRecord:function(a){var b=this;if(this.hierarchy.length>0){var c=function(d){if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.uid==a){d.splice(e,1),b.recordids[a]&&delete b.recordids[a];var g=function(a){for(var c=0;c<a.length;c++){for(var d=a[c].uid,e=0;e<b.records.length;e++){var f=b.records[e];if(f.uid==d){b.records.splice(e,1);break}}a[c].records&&g(a[c].records)}};f.records&&g(f.records);for(var h=0;h<b.records.length;h++){var f=b.records[h];if(f.uid==a){b.records.splice(h,1);break}}return!0}f.records&&c(f.records)}};c(this.hierarchy)}else for(var d=0;d<this.records.length;d++){var e=this.records[d];if(e.uid==a)return this.records.splice(d,1),!0}return!1},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;d<c;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);var f,g,h=new Array;b.pageable&&b.virtualmode?(f=b.pagenum*b.pagesize,g=f+b.pagesize,g>b.totalrecords&&(g=b.totalrecords)):b.virtualmode?(f=a.recordstartindex,g=a.recordendindex,g>b.totalrecords&&(g=b.totalrecords)):(f=0,g=b.records.length);for(var i=f;i<g;i++){var j=b.records[i],k=e.name,l=j[e.value];if(void 0!=h[l])j[k]=h[l];else for(var m=0;m<e.values.source.length;m++){var n=e.values.source[m],o=n[e.values.value];if(void 0==o&&(o=n.uid),o==l){var p=n[e.values.name];j[k]=p,h[l]=p;break}}}}else if(void 0!=e.value)for(var i=0;i<b.records.length;i++){var j=b.records[i];j[e.name]=j[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(b,c,d){var e=this,f=function(b){if(b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),e.addForeignValues(c),d.uniqueDataFields){var f=e.getUniqueRecords(e.records,d.uniqueDataFields);e.records=f,e.cachedrecords=f}if(d.beforeLoadComplete){var g=d.beforeLoadComplete(e.records,data);void 0!=g&&(e.records=g,e.cachedrecords=g)}for(var h=0;h<e.records.length;h++){var i=e.records[h];void 0!=i&&void 0==i.uid&&(i.uid=e.getid(c.id,i,h))}e.buildHierarchy.call(e),a.isFunction(d.loadComplete)&&d.loadComplete(b),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;g<c;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;j<d;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d,e){var f=d;f||(f=this.records);var g={},h=new Array,i=f.length;if(0!=i&&void 0!=i){for(var j=0;j<i;j++)for(var k=f[j],l=0;l<b.length;l++){var m=b[l],n=k[m.name];if(m.aggregates){g[m.name]=g[m.name]||{},h[m.name]=h[m.name]||0,h[m.name]++;var o=function(b){for(obj in b){var c=g[m.name][obj];null==c&&(g[m.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,n,m.name,k,e)),g[m.name][obj]=c}},p=parseFloat(n);p=!isNaN(p),p&&(n=parseFloat(n)),"number"==typeof n&&isFinite(n)?a.each(m.aggregates,function(){var a=g[m.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(n);else if("product"==this)0==j?a=parseFloat(n):a*=parseFloat(n);else if("min"==this)a=Math.min(a,parseFloat(n));else if("max"==this)a=Math.max(a,parseFloat(n));else if("count"==this)a++;else if("object"==typeof this)return void o(this);g[m.name][this]=a}):a.each(m.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===n)return!0;var a=g[m.name][this];return null==a&&(a=0),g[m.name][this]=a,!0}"object"==typeof this&&o(this)})}}for(var l=0;l<b.length;l++){var m=b[l];if(g[m.name]||(g[m.name]={},a.each(m.aggregates,function(a){g[m.name][this]=0})),void 0!=g[m.name].avg){var n=g[m.name].avg,q=h[m.name];0===q||void 0==q?g[m.name].avg=0:g[m.name].avg=n/q}else void 0!=g[m.name].count&&(g[m.name].count=i);(g[m.name].stdev||g[m.name].stdevp||g[m.name].var||g[m.name].varp)&&a.each(m.aggregates,function(a){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var b=g[m.name][this],c=i,d=b/i,e=0,h=0;h<i;h++){var j=f[h],k=j[m.name];e+=(k-d)*(k-d)}var l="stdevp"==this||"varp"==this?c:c-1;0==l&&(l=1),"var"==this||"varp"==this?g[m.name][this]=e/l:"stdevp"!=this&&"stdev"!=this||(g[m.name][this]=Math.sqrt(e/l))}}),m.formatStrings&&a.each(m.aggregates,function(b){var d=m.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=g[m.name][this];g[m.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=g[m.name][obj];g[m.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return g}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g,h,i,j){var k=this;j||(j=0);for(var l=new Array,m=0;m<b.length;m++)l[m]=k.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),h||(h="parentItem"),void 0===g&&(g="value");var n=new Array,o=0,p=new Array,q=b.length;new Array;if(!i)var i=this.records;for(var r=i.length,s=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},t=0;t<r;t++){var u=s(i[t]);id=u[k.uniqueId];var v=new Array,w=0;for(m=0;m<q;m++){var x=b[m],y=u[x];null!=y&&(v[w++]={value:y,hash:l[m]})}if(v.length!=q)break;for(var z=null,A="",B=-1,C=0;C<v.length;C++){B++;var D=v[C].value,E=v[C].hash;if(A=A+"_"+E+"_"+D,void 0==p[A]||null==p[A]){
if(null==z){z={level:0},z[h]=null,z[d]=D,z[f]=u,void 0!==u.expanded?z.expanded=u.expanded:z.expanded=!1,g&&(z[g]=u[g]),z[c]=new Array;var F=n.length+j;this._source.id&&"number"!=typeof u.uid&&!isFinite(u.uid)||(F="Row"+F),z.uid=F,n[o++]=z}else{var G={level:z.level+1};G[h]=z,G[d]=D,G[c]=new Array,G[f]=u,void 0!==u.expanded?G.expanded=u.expanded:G.expanded=!1,g&&(G[g]=u[g]),G.uid=z.uid+"_"+z[c].length,z[c][z[c].length]=G,z=G}p[A]=z}else z=p[A]}u&&(u.leaf=!0),null!=z?(null==this._source.id&&(void 0==u.uid?u.uid=z.uid+"_"+z[c].length:u.uid.toString().indexOf(z.uid)==-1&&(u.uid=z.uid+"_"+u.uid)),u[h]=z,u.level=z.level+1,z[c][z[c].length]=u):void 0==u.uid&&(u.uid=this.generatekey())}return n},getRecordsHierarchy:function(b,c,d,e,f){var g=new Array,h=this.records;if(f&&(h=f),0==this.records.length)return null;for(var i=null!=d?d:"items",j=[],k=h,l=k.length,m=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,n=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},o=0;o<l;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];j[r]={parentid:q,item:p}}for(var o=0;o<l;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];if(void 0!=j[q]){var p={parentid:q,item:j[r].item},s=j[q].item;s[i]||(s[i]=[]);var t=s[i].length,u=p.item;m?void 0==u[m.parent]&&(u[m.parent]=s):void 0==u.parent&&(u.parent=s);var v=n(u);s[i][t]=v,j[q].item=s,j[r]=p}else{var u=j[r].item;m?void 0==u[m.parent]&&(u[m.parent]=null):void 0==u.parent&&(u.parent=null);var v=n(u);m?v[m.level]=0:v.level=0,g[g.length]=v}}if(0!=g.length){var w=function(a,b){for(var c=0;c<b.length;c++){m?b[c][m.level]=a:b[c].level=a;var d=b[c][i];d&&d.length>0?w(a+1,d):m?b[c][m.leaf]=!0:b[c].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(null==b||void 0==b.name||!b.name){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return a.trim(e).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var f=b.split(this.mapChar);if(f.length>1){for(var g=c,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);if(void 0!=g)return g}else if(void 0!=c[b])return c[b]}return d}var e=a(c).attr(b.name);if(null!=e&&e.toString().length>0)return e;if(b.map)try{var e=a(c).attr(b.map);if(null!=e&&e.toString().length>0)return e;if(a(b.map,c).length>0)return a(b.map,c).text();if(a(b.name,c).length>0)return a(b.name,c).text()}catch(a){return d}},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){var f=d.root.split(e.mapChar);if(f.length>1){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}else if(void 0!==b[d.root]?b=b[d.root]:b[0]&&void 0!==b[0][d.root]?b=b[0][d.root]:a.each(b,function(a){return this==d.root?(b=this,!1):void(void 0!=this[d.root]&&(b=this[d.root]))}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b||"undefined"==b||void 0==b.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==b.length)return void(this.totalrecords=0);var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,d.generatedfields=d.datafields,m=o.length}for(var q=k,r=k;r<i;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;v<m;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){if(a.isFunction(w.map))x=w.map(s);else{var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map]}void 0!=x&&null!=x?x=this.getvaluebytype(x,w):void 0==x&&null!=x&&(x="")}if(""==x&&!w.map&&(x=s[w.name],void 0==x&&null!=x&&(x=""),void 0!=w.value&&void 0!=x)){var z=x[w.value];void 0!=z&&(x=z)}if(x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x,"array"===w.type){var A=function(b){if(b)for(var c=0;c<b.length;c++){var f=b[c];if(f)for(var g=0;g<m;g++){var h=d.datafields[g],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(f);else{var j=h.map.split(e.mapChar);if(j.length>0){for(var k=f,l=0;l<j.length;l++)void 0!=k&&(k=k[j[l]]);i=k}else i=f[h.map]}void 0!=i&&null!=i?i=this.getvaluebytype(i,h):void 0==i&&null!=i&&(i="")}if(""==i&&!h.map&&(i=f[h.name],void 0==i&&null!=i&&(i=""),void 0!=h.value&&void 0!=i)){var n=i[h.value];void 0!=n&&(i=n)}i=this.getvaluebytype(i,h),void 0!=h.displayname?f[h.displayname]=i:f[h.name]=i,"array"===h.type&&A.call(this,i)}}}};A.call(this,x)}}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=new Object(u),j[l+q].uid=t,this.originaldata[l+q]=new Object(j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b)),b=null),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c&&void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,d.generatedfields=d.datafields,i=k.length}for(var m=g,n=!1,o=g;o<e;o++){var p=b[o];if(void 0==p)break;var q=this.getid(d.id,p,o);if(!this.recordids[q]){this.recordids[q]=p;var r={},s=!1;d.hierarchy&&d.hierarchy.root&&(s=!0);for(var t=0;t<i;t++){var u=d.datafields[t],v="";if(void 0!=u&&null!=u){if(u.map)if(a.isFunction(u.map))v=u.map(p);else{var w=u.map.indexOf("[");if(w<0)if(v=a(u.map,p),1==v.length)v=v.text();else{n=!0;for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}else{var z=u.map.substring(0,w-1),A=u.map.indexOf("]"),B=u.map.substring(w+1,A);v=a(z,p).attr(B),void 0==v&&(v=a(p).attr(B)),void 0==v&&(v="")}""==v&&(v=a(p).attr(u.map),void 0==v&&(v=""))}if(""==v){if(v=a(u.name,p),1==v.length)v=v.text();else{for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}""==v&&(v=a(p).attr(u.name),void 0==v&&(v="")),""==v&&p.nodeName&&p.nodeName==u.name&&p.firstChild&&(v=a(p.firstChild).text())}v=this.getvaluebytype(v,u),void 0!=u.displayname?r[u.displayname]=v:r[u.name]=v}}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},r),f[h+m].uid=q,this.originaldata[h+m]=a.extend({},f[o]),m++)}}if(d.hierarchy&&d.hierarchy.root)for(var o=g;o<e;o++){var p=b[o],C=f[o];if(a(p).parent().length>0){var q=this.getid(d.id,a(p).parents(d.hierarchy.record+":first"));C.parentuid=q}else C.parentuid=null}this.records=f,this.cachedrecords=this.records}},loadics:function(a,b){if(null!=a){var c=b.rowDelimiter||this.rowDelimiter||"\n",d=a.split(c),e=d.length,f=a.split("\r");1==e&&f.length>1&&(d=f,e=d.length),this.records=new Array,this.originaldata=new Array;var g=this.records;this.recordids=new Array;for(var h=function(a){var b=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,c=b.exec(a);if(!c)throw new Error("Invalid UNTIL value: "+a);return new Date(Date.UTC(c[1],c[2]-1,c[3],c[5]||0,c[6]||0,c[7]||0))},i=0;i<e;i++){var j=d[i];if("BEGIN:VEVENT"!=j)if(j.indexOf("SUMMARY")>=0)l.SUMMARY=j.substring(j.indexOf("SUMMARY")+8);else if(j.indexOf("LOCATION")>=0)l.LOCATION=j.substring(j.indexOf("LOCATION")+9);else if(j.indexOf("DESCRIPTION")>=0)l.DESCRIPTION=j.substring(j.indexOf("DESCRIPTION")+12);else if(j.indexOf("RRULE")>=0)l.RRULE=j.substring(j.indexOf("RRULE")+6);else if(j.indexOf("EXDATE")>=0){var k=j.substring(j.indexOf("EXDATE")+7);l.EXDATE=k}else j.indexOf("DTEND")>=0?l.DTEND=h(j.substring(j.indexOf("DTEND")+6)):j.indexOf("DTSTART")>=0?l.DTSTART=h(j.substring(j.indexOf("DTSTART")+8)):j.indexOf("UID")>=0?l.uid=l.UID=j.substring(j.indexOf("UID")+4):j.indexOf("STATUS")>=0?l.STATUS=j.substring(j.indexOf("STATUS")+7):"END:VEVENT"!=j||g.push(l);else var l={}}this.records=g,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length,g=b.split("\r");1==f&&g.length>1&&(e=g,f=e.length),this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var h=this.records,i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(i=0,f=this.totalrecords);var j=0;this.virtualmode&&(i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,j=i,i=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;l||(l="tab"===c.datatype||"tsv"===c.datatype?"\t":",");for(var m=i;m<f;m++){var n=e[m],o=null;if(!this.recordids[o]){null==c.id&&(o=m,this.recordids[o]=n);for(var p={},q=e[m].split(l),r=0;r<k;r++)if(!(r>=q.length)){var s=c.datafields[r],t=q[r];s.map&&a.isFunction(s.map)&&(t=s.map(n)),s.type&&(t=this.getvaluebytype(t,s));var u=s.map||s.name||r.toString();p[u]=t,null!=c.id&&c.id===s.name&&(o=t,this.recordids[o]=n)}null==o&&(o=m),h[j+m]=a.extend({},p),h[j+m].uid=o,this.originaldata[j+m]=a.extend({},h[m])}}this.records=h,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"!=c.type&&"boolean"!=c.type||(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b||(0!=b||""===b)&&"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!(!this.isString(b)&&this.isValue(b))&&(!this.isValue(b)||(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b))},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split(" ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},toUpper:function(a){return a?a.toUpperCase():""},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=this.arrayIndexOf(f[1],b),d===-1&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return h<0&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;e<f;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(a,b,c){return this.formatnumber(a,b,c)},formatnumber:function(a,b,c){if(void 0!=c&&null!=c&&""!=c||(c=this.defaultcalendar()),""===b||null===b)return a;this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=a<0,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=(a*l).toFixed(0)/l+"",g=i.lastIndexOf("."),k>0)for(g<0?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}else{var i=a+"";g=i.lastIndexOf("."),g>0&&void 0==k&&"."!==j&&(i=i.replace(".",j))}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,o%3===0&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(b,c){void 0!=c&&null!=c||(c=this.defaultcalendar());var d=this;if(""==b)return null;if(null==b||b.substring||(b=b.toString()),null!=b&&"/Date("==b.substring(0,6)){var e=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,f=new Date(+b.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==f){var g=b.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),f=null;g&&(f=new Date(1*g[1]+36e5*g[2]+6e4*g[3]))}if(null==f||"Invalid Date"==f||isNaN(f)){var h=e.exec(b);if(h){var i=new Date(parseInt(h[1]));if(h[2]){var j=parseInt(h[3]);"-"===h[2]&&(j=-j);var k=i.getUTCMinutes();i.setUTCMinutes(k-j)}if(!isNaN(i.valueOf()))return i}}return f}patterns=c.patterns;for(prop in patterns)if(f=d.parsedate(b,patterns[prop],c)){if("ISO"==prop){var l=d.parsedate(b,patterns.ISO2,c);if(l)return l}return f}if(null!=b){for(var l=null,m=[":","/","-"],n=!0,o=0;o<m.length;o++)b.indexOf(m[o])!=-1&&(n=!1);if(n){var p=new Number(b);if(!isNaN(p))return new Date(p)}}if("string"===a.type(b)){var q=d;b=q.trim(b);var r=[":","/","-"," ",","],s=function(a,b,c){return c.replace(new RegExp(a,"g"),b)};b=s(", ",",",b);var t="",u=b;b.indexOf(":")>=0?(t=b.substring(b.indexOf(":")-2),t=q.trim(t),u=b.substring(0,b.indexOf(":")-2)):b.toUpperCase().indexOf("AM")>=0?(t=b.substring(b.toUpperCase().indexOf("AM")-2),t=q.trim(t),u=b.substring(0,b.toUpperCase().indexOf("AM")-2)):b.toUpperCase().indexOf("PM")>=0&&(t=b.substring(b.toUpperCase().indexOf("PM")-2),t=q.trim(t),u=b.substring(0,b.toUpperCase().indexOf("PM")-2));var v=new Date,w=!1;if(u){for(var x=0;x<r.length;x++)if(u.indexOf(r[x])>=0){m=u.split(r[x]);break}for(var y=new Array,z=new Array,A=new Array,B=null,C=null,x=0;x<m.length;x++){var o=m[x],D=q.parsedate(o,"d",c)||q.parsedate(o,"dd",c)||q.parsedate(o,"ddd",c)||q.parsedate(o,"dddd",c);if(D&&o.length<=2){B=x,y.push(D.getDate());break}}for(var x=0;x<m.length;x++){var o=m[x],E=q.parsedate(o,"M",c)||q.parsedate(o,"MM",c)||q.parsedate(o,"MMM",c)||q.parsedate(o,"MMMM",c);if(E){if(void 0!=B&&B==x)continue;if(z.push(E.getMonth()),o.length>2){C=x;break}}}for(var x=0;x<m.length;x++){var o=m[x],F=q.parsedate(o,"yyyy",c);if(F){if(void 0!=B&&B==x)continue;if(void 0!=C&&C==x)continue;A.push(F.getFullYear())}}for(var G=new Array,H=0;H<y.length;H++)for(var g=0;g<z.length;g++)for(var I=0;I<A.length;I++){var i=new Date(A[I],z[g],y[H]);A[I]<1970&&i.setFullYear(A[I]),NaN!=i.getTime()&&G.push(i)}G.length>0&&(v=G[0],w=!0)}if(t){var J=t.indexOf(":")>=0?t.split(":"):t,K=q.parsedate(t,"h:mm tt",c)||q.parsedate(t,"h:mm:ss tt",c)||q.parsedate(t,"HH:mm:ss.fff",c)||q.parsedate(t,"HH:mm:ss.ff",c)||q.parsedate(t,"HH:mm:ss.tttt",c)||q.parsedate(t,"HH:mm:ss",c)||q.parsedate(t,"HH:mm",c)||q.parsedate(t,"HH",c),L=0,M=0,N=0,O=0;K&&NaN!=K.getTime()?(L=K.getHours(),M=K.getMinutes(),N=K.getSeconds(),O=K.getMilliseconds()):(1==J.length&&(L=parseInt(J[0])),2==J.length&&(L=parseInt(J[0]),M=parseInt(J[1])),3==J.length&&(L=parseInt(J[0]),M=parseInt(J[1]),J[2].indexOf(".")>=0?(N=parseInt(J[2].toString().split(".")[0]),O=parseInt(J[2].toString().split(".")[1])):N=parseInt(J[2])),4==J.length&&(L=parseInt(J[0]),M=parseInt(J[1]),N=parseInt(J[2]),O=parseInt(J[3]))),!v||isNaN(L)||isNaN(M)||isNaN(N)||isNaN(O)||(v.setHours(L,M,N,O),w=!0)}if(w)return v}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return a<b||a>c},expandYear:function(a,b){var c=new Date,d=this.getEra(c);if(b<100){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){void 0!=c&&null!=c||(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;t<u;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=x<4?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(this.startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;C<D;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&n<12&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatDate:function(a,b,c){return this.formatdate(a,b,c)},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if(void 0!=c&&null!=c||(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f]&&b.indexOf("f")==-1)return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,c)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),t<4&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((j<=0?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((j<=0?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[this.getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}}),a.jqx.data={};var i,j,k=/#.*$/,l=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,m=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,n=/^(?:GET|HEAD)$/,o=/^\/\//,p=/\?/,q=/([?&])_=[^&]*/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,s=/\s+/,t=(a.fn.load,{}),u={},v=["*/"]+["*"];try{j=location.href}catch(a){j=document.createElement("a"),j.href="",j=j.href}i=r.exec(j.toLowerCase())||[],a.extend(a.jqx.data,{ajaxSetup:function(b,c){return c?d(b,a.jqx.data.ajaxSettings):(c=b,b=a.jqx.data.ajaxSettings),d(b,c),b},ajaxSettings:{url:j,isLocal:m.test(i[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":v},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":a.parseJSON,"text xml":a.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(t),ajaxTransport:b(u),ajax:function(b,d){function g(b,c,d,g){var i,k,l,m,n,o=c;2!==J&&(J=2,x&&clearTimeout(x),w=void 0,j=g||"",L.readyState=b>0?4:0,d&&(m=e(B,L,d)),b>=200&&b<300||304===b?(B.ifModified&&(n=L.getResponseHeader("Last-Modified"),n&&(a.lastModified[h]=n),n=L.getResponseHeader("Etag"),n&&(a.etag[h]=n)),304===b?(o="notmodified",i=!0):(i=f(B,m),o=i.state,k=i.data,l=i.error,i=!l)):(l=o,o&&!b||(o="error",b<0&&(b=0))),L.status=b,L.statusText=(c||o)+"",i?E.resolveWith(C,[k,o,L]):E.rejectWith(C,[L,o,l]),L.statusCode(G),G=void 0,z&&D.trigger("ajax"+(i?"Success":"Error"),[L,B,i?k:l]),F.fireWith(C,[L,o]),z&&(D.trigger("ajaxComplete",[L,B]),--a.active||a.event.trigger("ajaxStop")))}"object"==typeof b&&(d=b,b=void 0),d=d||{};var h,j,m,w,x,y,z,A,B=a.jqx.data.ajaxSetup({},d),C=B.context||B,D=C!==B&&(C.nodeType||C instanceof a)?a(C):a.event,E=a.Deferred(),F=a.Callbacks("once memory"),G=B.statusCode||{},H={},I={},J=0,K="canceled",L={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=I[c]=I[c]||a,H[a]=b}return this},getAllResponseHeaders:function(){return 2===J?j:null},getResponseHeader:function(a){var b;if(2===J){if(!m)for(m={};b=l.exec(j);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return void 0===b?null:b},overrideMimeType:function(a){return J||(B.mimeType=a),this},abort:function(a){return a=a||K,w&&w.abort(a),g(0,a),this}};if(E.promise(L),L.success=L.done,L.error=L.fail,L.complete=F.add,L.statusCode=function(a){if(a){var b;if(J<2)for(b in a)G[b]=[G[b],a[b]];else b=a[L.status],L.always(b)}return this},B.url=((b||B.url)+"").replace(k,"").replace(o,i[1]+"//"),B.dataTypes=a.trim(B.dataType||"*").toLowerCase().split(s),null==B.crossDomain&&(y=r.exec(B.url.toLowerCase()),B.crossDomain=!(!y||y[1]===i[1]&&y[2]===i[2]&&(y[3]||("http:"===y[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))),B.data&&B.processData&&"string"!=typeof B.data&&(B.data=a.param(B.data,B.traditional)),c(t,B,d,L),2===J)return L;if(z=B.global,B.type=B.type.toUpperCase(),B.hasContent=!n.test(B.type),z&&0===a.active++&&a.event.trigger("ajaxStart"),!B.hasContent&&(B.data&&(B.url+=(p.test(B.url)?"&":"?")+B.data,delete B.data),h=B.url,B.cache===!1)){var M=(new Date).getTime(),N=B.url.replace(q,"$1_="+M);B.url=N+(N===B.url?(p.test(B.url)?"&":"?")+"_="+M:"")}(B.data&&B.hasContent&&B.contentType!==!1||d.contentType)&&L.setRequestHeader("Content-Type",B.contentType),B.ifModified&&(h=h||B.url,a.lastModified[h]&&L.setRequestHeader("If-Modified-Since",a.lastModified[h]),a.etag[h]&&L.setRequestHeader("If-None-Match",a.etag[h])),L.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+v+"; q=0.01":""):B.accepts["*"]);for(A in B.headers)L.setRequestHeader(A,B.headers[A]);if(B.beforeSend&&(B.beforeSend.call(C,L,B)===!1||2===J))return L.abort();K="abort";for(A in{success:1,error:1,complete:1})L[A](B[A]);if(w=c(u,B,d,L)){L.readyState=1,z&&D.trigger("ajaxSend",[L,B]),B.async&&B.timeout>0&&(x=setTimeout(function(){L.abort("timeout")},B.timeout));try{J=1,w.send(H,g)}catch(a){if(!(J<2))throw a;g(-1,a)}}else g(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var w=[],x=/\?/,y=/(=)\?(?=&|$)|\?\?/,z=(new Date).getTime();a.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=w.pop()||a.expando+"_"+z++;return this[b]=!0,b}}),a.jqx.data.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.data,i=b.url,j=b.jsonp!==!1,k=j&&y.test(i),l=j&&!k&&"string"==typeof h&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&y.test(h);if("jsonp"===b.dataTypes[0]||k||l)return e=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f=window[e],k?b.url=i.replace(y,"$1"+e):l?b.data=h.replace(y,"$1"+e):j&&(b.url+=(x.test(i)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||a.error(e+" was not called"),g[0]},b.dataTypes[0]="json",window[e]=function(){g=arguments},d.always(function(){window[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,w.push(e)),g&&a.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),a.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){return a.globalEval(b),b}}}),a.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(d,e){b=document.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=void 0,d||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var A,B=!!window.ActiveXObject&&function(){for(var a in A)A[a](0,1)},C=0;a.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&g()||h()}:g,function(b){a.extend(a.support,{ajax:!!b,
cors:!!b&&"withCredentials"in b})}(a.jqx.data.ajaxSettings.xhr()),a.support||(a.support={ajax:!0}),a.support.ajax&&a.jqx.data.ajaxTransport(function(b){if(!b.crossDomain||a.support.cors){var c;return{send:function(d,e){var f,g,h=b.xhr();if(b.username?h.open(b.type,b.url,b.async,b.username,b.password):h.open(b.type,b.url,b.async),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(g in d)h.setRequestHeader(g,d[g])}catch(a){}h.send(b.hasContent&&b.data||null),c=function(a,d){var g,i,j,k,l;try{if(c&&(d||4===h.readyState))if(c=void 0,f&&(h.onreadystatechange=function(){},B&&delete A[f]),d)4!==h.readyState&&h.abort();else{g=h.status,j=h.getAllResponseHeaders(),k={},l=h.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=h.responseText}catch(a){}try{i=h.statusText}catch(a){i=""}g||!b.isLocal||b.crossDomain?1223===g&&(g=204):g=k.text?200:404}}catch(a){d||e(-1,a)}k&&e(g,i,k,j)},b.async?4===h.readyState?setTimeout(c,0):(f=++C,B&&(A||(A={},a(window).unload(B)),A[f]=c),h.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}}),a.jqx.filter=function(){this.operator="and";var b=1,c=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL"],g=new Array,h=new Array;this.evaluate=function(a){for(var c=!0,d=0;d<g.length;d++){var e=g[d].evaluate(a);c=0==d?e:h[d]==b||"or"==h[d]?c||e:c&&e}return c},this.getfilterscount=function(){return g.length},this.setoperatorsbyfiltertype=function(a,b){switch(a){case"numericfilter":d=b;break;case"stringfilter":c=b;break;case"datefilter":e=b;break;case"booleanfilter":f=b}},this.getoperatorsbyfiltertype=function(a){var b=new Array;switch(a){case"numericfilter":b=d.slice(0);break;case"stringfilter":b=c.slice(0);break;case"datefilter":b=e.slice(0);break;case"booleanfilter":b=f.slice(0)}return b};var i=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,b,c,d,e,f){if(null==a||void 0==a)return null;switch(a){case"numericfilter":return new l(b,c.toUpperCase());case"stringfilter":return new j(b,c.toUpperCase());case"datefilter":return new m(b,c.toUpperCase(),e,f);case"booleanfilter":return new k(b,c.toUpperCase());case"custom":return new n(b,c.toUpperCase(),d)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var a=new Array,b=0;b<g.length;b++){var c={value:g[b].filtervalue,condition:g[b].comparisonoperator,operator:h[b],type:g[b].type};g[b].data&&(c.id=g[b].data),a[b]=c}return a},this.addfilter=function(a,b){g[g.length]=b,b.key=i(),h[h.length]=a},this.removefilter=function(a){for(var b=0;b<g.length;b++)if(g[b].key==a.key){g.splice(b,1),h.splice(b,1);break}},this.getoperatorat=function(a){return void 0==a||null==a?null:a<0||a>g.length?null:h[a]},this.setoperatorat=function(a,b){return void 0==a||null==a?null:a<0||a>g.length?null:void(h[b]=b)},this.getfilterat=function(a){return void 0==a||null==a?null:a<0||a>g.length?null:g[a]},this.setfilterat=function(a,b){return void 0==a||null==a?null:a<0||a>g.length?null:(b.key=i(),void(g[a]=b))},this.clear=function(){g=new Array,h=new Array};var j=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="stringfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NULL"==d)return!0;if("EQUAL"==d&&b==c)return!0;if("NOT_EQUAL"==d&&b!=c)return!0;if("EMPTY"!=d)return!1;if(""==b)return!0}var e="";try{e=b.toString()}catch(a){return!0}var f=function(b,c){switch(d){case"EQUAL":return a.jqx.string.equalsIgnoreCase(b,c);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(b,c);case"NOT_EQUAL":return!a.jqx.string.equalsIgnoreCase(b,c);case"NOT_EQUAL_CASE_SENSITIVE":return!a.jqx.string.equals(b,c);case"CONTAINS":return a.jqx.string.containsIgnoreCase(b,c);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b,c);case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b,c);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b,c);case"EMPTY":return""==b;case"NOT_EMPTY":return""!=b;case"NOT_NULL":return null!=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b,c);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b,c);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b,c);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b,c);default:return!1}},g=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var h=f(e,c);if(h)return h;var i=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,j=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,k=c.indexOf(" and ")>=0?c.split(" and "):new Array,l=c.indexOf(" or ")>=0?c.split(" or "):new Array,m=c.indexOf("|")>=0?c.split("|"):new Array;if(m.length>0)for(var n=0;n<m.length;n++)m[n]=a.trim(m[n]);var o=c.indexOf(" ")>=0?c.split(" "):new Array;if(o.length>0)for(var n=0;n<o.length;n++)o[n]=a.trim(o[n]);if(i=i.concat(o),i=i.concat(k),j=j.concat(m),j=j.concat(l),i.length>0)for(var n=0;n<i.length;n++)!i[n].indexOf(" OR ")>=0&&g.push(i[n]);if(j.length>0)for(var n=0;n<j.length;n++)!j[n].indexOf(" AND ")>=0&&g.push(j[n]);for(var p=void 0,q=0;q<g.length;q++){var b=g[q],h=f(e,b),r=q<i.length?"and":"or";p=void 0==p?h:"or"==r?p||h:p&&h}return p}return f(e,c)}},k=function(a,b){this.filtervalue=a,this.comparisonoperator=b,this.type="booleanfilter",this.evaluate=function(a){var b=this.filtervalue,c=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==c;var d=a;switch(c){case"EQUAL":return d==b||d.toString()==b.toString();case"NOT_EQUAL":return d!=b&&d.toString()!=b.toString();default:return!1}}},l=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="numericfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null===b||void 0===b||""===b){if("NOT_NULL"==d)return!1;if("NULL"==d)return!0;switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==d)return!1;if("NOT_NULL"==d)return!0;var e=b;try{e=parseFloat(e)}catch(a){if(""!=b.toString())return!1}var f=function(b,c){switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c;case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return b<c;case"LESS_THAN_OR_EQUAL":return b<=c;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},g=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var h=f(e,c);if(h)return h;c=c.toString();var i=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,j=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,k=c.indexOf(" and ")>=0?c.split(" and "):new Array,l=c.indexOf(" or ")>=0?c.split(" or "):new Array;i=i.concat(k),j=j.concat(l);var m=c.indexOf("|")>=0?c.split("|"):new Array;if(m.length>0)for(var n=0;n<m.length;n++)m[n]=a.trim(m[n]);if(j=j.concat(m),i.length>0)for(var n=0;n<i.length;n++)!i[n].indexOf(" OR ")>=0&&g.push(i[n]);if(j.length>0)for(var n=0;n<j.length;n++)!j[n].indexOf(" AND ")>=0&&g.push(j[n]);for(var o=void 0,p=0;p<g.length;p++){var b=g[p];if(b&&b.indexOf&&b.indexOf("..")>=0){var q=b.toString().split("..");2==q.length&&(h=e>=q[0]&&e<=q[1])}else var h=f(e,b);var r=p<i.length?"and":"or";o=void 0==o?h:"or"==r?o||h:o&&h}return o}return c&&c.indexOf&&c.indexOf("..")>=0&&(g=c.toString().split(".."),2==g.length)?e>=g[0]&&e<=g[1]:f(e,c)}},m=function(b,c,d,e){this.filtervalue=b,this.type="datefilter";var f=this;if(void 0!=d&&void 0!=e){var g=a.jqx.dataFormat.parsedate(b,d,e);if(null!=g)this.filterdate=g;else{var h=a.jqx.dataFormat.tryparsedate(b,e);null!=h&&(this.filterdate=h)}}else{var i=new Date(b);"NaN"==i.toString()||"Invalid Date"==i.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=i}if(!this.filterdate){var i=new Date(b);"NaN"==i.toString()||"Invalid Date"==i.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=i}this.comparisonoperator=c,this.evaluate=function(b){var c=this.filtervalue,g=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NOT_NULL"==g)return!1;if("NULL"==g)return!0;switch(g){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==g)return!1;if("NOT_NULL"==g)return!0;var h=new Date;h.setFullYear(1900,0,1),h.setHours(12,0,0,0);try{var i=new Date(b);b="NaN"==i.toString()||"Invalid Date"==i.toString()?a.jqx.dataFormat.tryparsedate(b):i,h=b;var j=!1;if(void 0!=d&&void 0!=e&&(d.indexOf("t")>=0||d.indexOf("T")>=0||d.indexOf(":")>=0||d.indexOf("f")>=0)&&(j=!0,c&&c.toString().indexOf(":")==-1)){var k=a.jqx.dataFormat.tryparsedate(c.toString()+":00",e);null!=k&&(f.filterdate=k)}j||(h.setHours(0),h.setMinutes(0),h.setSeconds(0))}catch(a){if(""!=b.toString())return!1}if(null!=f.filterdate)c=f.filterdate;else if(c&&c.indexOf&&(c.indexOf(":")!=-1||!isNaN(parseInt(c)))){var l=new Date(h);l.setHours(12,0,0,0);for(var m=c.split(":"),n=0;n<m.length;n++)0==n&&l.setHours(m[n]),1==n&&l.setMinutes(m[n]),2==n&&l.setSeconds(m[n]);c=l}j&&c&&c.setFullYear&&h&&h.getFullYear&&d.indexOf("d")==-1&&d.indexOf("M")==-1&&d.indexOf("y")==-1&&c.setFullYear(h.getFullYear(),h.getMonth(),h.getDate());var o=function(b,c){switch(null==b&&(b=""),g){case"EQUAL":return b.toString()==c.toString();case"NOT_EQUAL":return b.toString()!=c.toString();case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return b<c;case"LESS_THAN_OR_EQUAL":return b<=c;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},p=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var k=o(h,c);if(k)return k;var q=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,r=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,s=c.indexOf(" and ")>=0?c.split(" and "):new Array,t=c.indexOf(" or ")>=0?c.split(" or "):new Array;q=q.concat(s),r=r.concat(t);var u=c.indexOf("|")>=0?c.split("|"):new Array;if(u.length>0)for(var n=0;n<u.length;n++)u[n]=a.trim(u[n]);if(r=r.concat(u),q.length>0)for(var n=0;n<q.length;n++)!q[n].indexOf(" OR ")>=0&&p.push(q[n]);if(r.length>0)for(var n=0;n<r.length;n++)!r[n].indexOf(" AND ")>=0&&p.push(r[n]);for(var v=void 0,w=0;w<p.length;w++){var b=p[w];if(b&&b.indexOf&&b.indexOf("..")>=0){var x=b.toString().split("..");2==x.length&&(k=h>=x[0]&&h<=x[1])}else var k=o(h,b);var y=w<q.length?"and":"or";v=void 0==v?k:"or"==y?v||k:v&&k}return v}return c&&c.indexOf&&c.indexOf("..")>=0&&(p=c.toString().split(".."),2==p.length)?h>=p[0]&&h<=p[1]:o(h,c)}},n=function(a,b,c){this.filtervalue=a,this.comparisonoperator=b,this.evaluate=function(a,b){return c(this.filtervalue,a,this.comparisonoperator)}}}}(jqxBaseFramework);

